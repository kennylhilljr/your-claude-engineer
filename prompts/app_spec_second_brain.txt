# Second Brain Dashboard - Product Requirements Document

## Overview

Second Brain Dashboard is a generative UI application that transforms Markdown research documents into dynamic, personalized dashboards. Users paste or upload Markdown content from their AI research assistant, and an intelligent UI Orchestrator agent analyzes the content **section-by-section** and generates an optimal visual layout using A2UI components.

**Key Innovation: Section-Based Rendering**

Real research documents are messy and mixed - they contain news, statistics, tutorials, videos, and comparisons all in one document. Instead of forcing a single layout on the entire document, the agent:

1. Parses the Markdown into sections (split on H2 headers)
2. Analyzes each section independently to determine its type
3. Selects appropriate components and layout for each section
4. Wraps everything in a flexible document container

This means a single document can have a news section with HeadlineCards, followed by a statistics section with StatCards, followed by a tutorial section with StepCards - each rendered optimally for its content type.

IMPORTANT:

This is a sponsored YouTube demonstration project showcasing CopilotKit's generative UI capabilities with A2UI + AG-UI integration.

../../.env contains the following environment variables:

OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_MODEL=anthropic/claude-sonnet-4
POSTGRES_URL=postgresql://user:pass@host/db

Don't read or change these environment variables. Copy this .env into the project folder and leverage these variables.

Required environment variables for this project:
- OPENROUTER_API_KEY: API key for OpenRouter (used by Pydantic AI agent)
- OPENROUTER_MODEL: Model identifier for Claude Sonnet 4

Optional environment variables:
- BACKEND_PORT: Port for FastAPI server (default: 8000)
- NODE_ENV: Development/production mode (default: development)

Configuration:
- Frontend dev server: port 3010 (DO NOT use 3000, it's taken)
- Backend server: port 8000
- AG-UI endpoint: http://localhost:8000/ag-ui/stream

## Target Audience

**Primary Users:** Knowledge workers, researchers, and developers who use AI assistants to gather information and want a better way to visualize and consume their research.

**Key Pain Points:**
- Markdown documents are hard to scan quickly
- Important statistics and insights get buried in text
- No visual hierarchy in plain text documents
- Difficult to compare items or see trends at a glance
- YouTube links, code snippets, and data tables deserve better presentation

## Core Value Proposition

Transform any research Markdown into a beautiful, scannable dashboard that:
1. Surfaces key takeaways immediately
2. Presents data visually (stats, trends, comparisons)
3. Embeds media properly (videos, images)
4. Groups related content logically
5. Adapts layout to content type (news vs tutorial vs comparison)
6. **Extracts insights from prose** - Key sentences highlighted, not buried
7. **Generates action items** - Research leads to clear next steps
8. **Enables interaction** - Copy, save, annotate, export

**Design Principle: Better Than Markdown**

Every component must provide value BEYOND raw markdown:
- Stats as visual cards > stats buried in text
- Videos as playable embeds > text links
- Prose with extracted insights > walls of text
- Action items at the end > implicit conclusions

If a section can't be improved by the dashboard, we still make it readable with proper typography, pull quotes, and reading time estimates.

---

## Core Features

### 1. Markdown Input Interface
- Large text area to paste Markdown content
- File upload support for .md files
- Recent documents history (localStorage)
- Sample documents for demo purposes
- Real-time character/word count

### 2. Section-Based Content Analysis Pipeline

The agent parses Markdown into sections and analyzes EACH SECTION independently:

**Document-Level Analysis:**
- Total word count and section count
- Overall document topics
- Whether to add TOC sidebar (>1500 words)
- Whether to add TLDR component (>500 words)

**Section-Level Analysis (for each H2 section):**
- **Section Type**: news, comparison, tutorial, data, resources, media, quotes, prose, mixed
- **Content Indicators**: has_youtube, has_github, has_code, has_table, has_stats, has_list
- **Item Count**: How many items in this section (affects layout choice)

### 3. Section-Based Layout Selection

Each section gets its own layout treatment based on its type:

| Section Type | Layout Within Section |
|--------------|----------------------|
| news | Vertical stack of HeadlineCards |
| comparison | ComparisonTable or side-by-side Columns |
| tutorial | Numbered StepCards with nested CodeBlocks |
| data | Grid of StatCards + DataTable below |
| resources | Grid of ToolCards/LinkCards (2-3 columns) |
| media | Carousel if 4+ videos, Grid if 2-3 |
| quotes | Large QuoteCards, vertically stacked |
| prose | **InsightCards + Prose component with PullQuotes** |
| analysis | **InsightCards + Prose + ActionItems at end** |
| mixed | Adaptive - pick components per item |

**Item Count Affects Layout:**
| Item Count | Layout Choice |
|------------|---------------|
| 1 item | Full-width card |
| 2 items | 2-column grid |
| 3 items | 3-column grid |
| 4+ items | Carousel OR 2x2 grid |
| 10+ items | Accordion (collapsed) or paginated |

### 3a. Smart Prose Handling

Prose sections (paragraphs without structured data) get special treatment to add value:

1. **Insight Extraction**: Agent extracts 1-3 key sentences and renders as InsightCards above the prose
2. **Pull Quotes**: Important phrases within prose are rendered as PullQuote components
3. **Reading Time**: Display estimated reading time for the section
4. **Action Items**: If prose contains recommendations, extract as ActionItem components at the end

```
Section: "Market Analysis" (prose type)
â”œâ”€â”€ InsightCard: "Enterprise adoption has plateaued at 67%"
â”œâ”€â”€ InsightCard: "Small companies adopting 3x faster than enterprise"
â”œâ”€â”€ Prose:
â”‚   â””â”€â”€ [Nicely formatted paragraphs with PullQuotes embedded]
â”œâ”€â”€ ReadingTime: "2 min read"
â””â”€â”€ ActionItem: "Focus on SMB market for faster growth"
```

### 4. Document-Level Wrapper

After all sections are rendered, the document gets wrapped based on overall characteristics:

| Document Characteristic | Wrapper Treatment |
|------------------------|-------------------|
| Long (>1500 words) | Add sticky TableOfContents sidebar |
| Has 5+ diverse sections | Add Tabs to group related sections |
| Has TLDR section in markdown | Extract and render TLDR component at top |
| Mixed content types | Simple vertical stack with Section dividers |

### 5. A2UI Component Rendering
Agent emits A2UI JSON for 55+ component types:
- News components (headlines, trends, timeline events)
- Media components (videos, images, podcasts)
- Data components (stats, metrics, charts, tables)
- List components (rankings, checklists, pros/cons)
- Resource components (links, tools, books, repos)
- People components (profiles, quotes, expert tips)
- Summary components (TLDR, takeaways, TOC)
- Comparison components (tables, vs cards, matrices)
- Instructional components (steps, code, callouts)
- Layout components (sections, grids, tabs, accordions)
- **Prose components (insight cards, pull quotes, prose blocks, reading time)**
- **Action components (action items, next steps)**
- **Source components (source cards, bibliography)**

### 6. Visual Variety Enforcement
System ensures dashboards look different:
- Minimum 4 different component types per dashboard
- No more than 3 identical components in sequence
- Each section uses layout appropriate to its content type
- Visual hierarchy: important content is prominent
- Component density matches section item count
- **Prose sections must have at least 1 InsightCard extracted**

### 7. Interactive Features (All Cards)

Every card has contextual actions:

| Component | Interactive Features |
|-----------|---------------------|
| **All Cards** | Copy to clipboard, Add to notes |
| QuoteCard | Copy quote, Share |
| CodeBlock | Copy code, Toggle line numbers |
| StatCard | Copy value, View source |
| VideoCard | Play inline, Open in YouTube |
| ToolCard | Visit website, Copy link |
| InsightCard | Copy insight, Mark as key |
| ActionItem | Mark complete, Add due date |
| Prose | Highlight text, Add annotation |

### 8. Document-Level Actions

At the document level:
- **Export as Markdown** - Regenerate markdown from dashboard state
- **Export Section** - Export individual section as markdown
- **Save Dashboard** - Save to localStorage for later
- **Share Dashboard** - Generate shareable link (if backend supports)
- **Print View** - Optimized layout for printing

---

## Tech Stack

- **Frontend**: React 19 with Vite (Bun runtime)
- **Styling**: Tailwind CSS + Shadcn/ui
- **UI Framework**: CopilotKit with A2UI renderer
- **UI Specification**: A2UI v0.8 (Google's declarative UI format)
- **Transport Protocol**: AG-UI (CopilotKit's agent-user interaction protocol)
- **Backend**: FastAPI (Python)
- **Package Manager**: uv (Python)
- **Agent Framework**: Pydantic AI with AG-UI integration
- **LLM**: Claude Sonnet 4 via OpenRouter
- **Real-time**: Server-Sent Events (SSE) via AG-UI

---

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              User Interface                                  â”‚
â”‚                    (React + Vite + CopilotKit + Tailwind)                   â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  Markdown Input  â”‚    â”‚           Generated Dashboard                 â”‚  â”‚
â”‚   â”‚                  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚   â”‚  [Paste MD here] â”‚â”€â”€â”€â–¶â”‚  â”‚StatCard â”‚ â”‚VideoCardâ”‚ â”‚RankedItemâ”‚       â”‚  â”‚
â”‚   â”‚                  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚   â”‚  [Generate]      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚        ComparisonTable           â”‚       â”‚  â”‚
â”‚                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚ AG-UI Protocol (SSE)
                                                â”‚ Streams A2UI JSON
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Pydantic AI Agent (UI Orchestrator)                       â”‚
â”‚                                               â”‚                              â”‚
â”‚   1. Receive Markdown â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚   2. Analyze Content (type, structure, media, length)                       â”‚
â”‚   3. Select Layout Strategy (magazine, dashboard, tutorial, etc.)           â”‚
â”‚   4. Generate A2UI Component Tree                                            â”‚
â”‚   5. Stream components via AG-UI                                             â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  A2UI Generator Functions                                            â”‚   â”‚
â”‚   â”‚  - generate_stat_card(), generate_video_card(), generate_ranked_item â”‚   â”‚
â”‚   â”‚  - generate_section(), generate_grid(), generate_tabs()              â”‚   â”‚
â”‚   â”‚  - 40+ component generators                                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## A2UI Component Catalog (Complete)

### News & Trends Components

**a2ui.HeadlineCard**
```json
{
  "type": "a2ui.HeadlineCard",
  "id": "headline-1",
  "props": {
    "title": "OpenAI Releases GPT-5",
    "source": "TechCrunch",
    "date": "2025-01-28",
    "sentiment": "positive",
    "url": "https://...",
    "imageUrl": "https://..."
  }
}
```

**a2ui.TrendIndicator**
```json
{
  "type": "a2ui.TrendIndicator",
  "id": "trend-1",
  "props": {
    "label": "AI Agent Discussion",
    "direction": "up",
    "percentage": 340,
    "context": "vs last week"
  }
}
```

**a2ui.TimelineEvent**
```json
{
  "type": "a2ui.TimelineEvent",
  "id": "event-1",
  "props": {
    "date": "2025-01-15",
    "title": "Claude 3.5 Released",
    "description": "Anthropic releases Claude 3.5 with improved reasoning",
    "icon": "release"
  }
}
```

**a2ui.NewsTicker**
```json
{
  "type": "a2ui.NewsTicker",
  "id": "ticker-1",
  "props": {
    "items": [
      {"text": "Breaking: AI regulation bill passes", "url": "..."},
      {"text": "NVIDIA stock reaches all-time high", "url": "..."}
    ],
    "speed": "normal"
  }
}
```

### Media Components

**a2ui.VideoCard**
```json
{
  "type": "a2ui.VideoCard",
  "id": "video-1",
  "props": {
    "videoId": "dQw4w9WgXcQ",
    "platform": "youtube",
    "title": "Building AI Agents with Pydantic",
    "channel": "ArjanCodes",
    "views": "125K",
    "duration": "24:35",
    "thumbnailUrl": "https://..."
  }
}
```

**a2ui.ImageCard**
```json
{
  "type": "a2ui.ImageCard",
  "id": "image-1",
  "props": {
    "src": "https://...",
    "alt": "Architecture diagram",
    "caption": "System architecture overview",
    "aspectRatio": "16:9"
  }
}
```

**a2ui.PlaylistCard**
```json
{
  "type": "a2ui.PlaylistCard",
  "id": "playlist-1",
  "props": {
    "title": "AI Engineering Fundamentals",
    "videoCount": 12,
    "totalDuration": "4h 35m",
    "thumbnailUrl": "https://...",
    "videos": [
      {"title": "Intro to LLMs", "duration": "15:20"},
      {"title": "Prompt Engineering", "duration": "22:45"}
    ]
  }
}
```

**a2ui.PodcastCard**
```json
{
  "type": "a2ui.PodcastCard",
  "id": "podcast-1",
  "props": {
    "title": "Latent Space: AI Agents Deep Dive",
    "host": "Swyx & Alessio",
    "duration": "1h 23m",
    "episodeNumber": 142,
    "description": "Discussion on the state of AI agents...",
    "url": "https://..."
  }
}
```

### Data & Statistics Components

**a2ui.StatCard**
```json
{
  "type": "a2ui.StatCard",
  "id": "stat-1",
  "props": {
    "value": "$196B",
    "label": "AI Market Size",
    "trend": "up",
    "trendValue": "+23%",
    "comparison": "vs 2023",
    "icon": "chart"
  }
}
```

**a2ui.MetricRow**
```json
{
  "type": "a2ui.MetricRow",
  "id": "metric-1",
  "props": {
    "label": "Context Window",
    "value": "200,000",
    "unit": "tokens",
    "icon": "document"
  }
}
```

**a2ui.ProgressRing**
```json
{
  "type": "a2ui.ProgressRing",
  "id": "progress-1",
  "props": {
    "percentage": 67,
    "label": "Enterprise AI Adoption",
    "color": "blue",
    "size": "large"
  }
}
```

**a2ui.ComparisonBar**
```json
{
  "type": "a2ui.ComparisonBar",
  "id": "compare-bar-1",
  "props": {
    "labelA": "Claude",
    "labelB": "GPT-4",
    "valueA": 85,
    "valueB": 72,
    "metric": "Coding Accuracy %"
  }
}
```

**a2ui.DataTable**
```json
{
  "type": "a2ui.DataTable",
  "id": "table-1",
  "props": {
    "columns": [
      {"key": "quarter", "label": "Quarter"},
      {"key": "funding", "label": "VC Funding"},
      {"key": "deals", "label": "Deals"}
    ],
    "rows": [
      {"quarter": "Q1", "funding": "$12.3B", "deals": 342},
      {"quarter": "Q2", "funding": "$15.1B", "deals": 389}
    ],
    "sortable": true,
    "striped": true
  }
}
```

**a2ui.MiniChart**
```json
{
  "type": "a2ui.MiniChart",
  "id": "chart-1",
  "props": {
    "data": [12, 19, 15, 25, 22, 30, 28],
    "type": "line",
    "color": "blue",
    "showLabels": false,
    "height": 60
  }
}
```

### List & Ranking Components

**a2ui.RankedItem**
```json
{
  "type": "a2ui.RankedItem",
  "id": "rank-1",
  "props": {
    "rank": 1,
    "title": "Cursor",
    "description": "AI-first code editor with built-in chat",
    "score": "4.8/5",
    "imageUrl": "https://...",
    "url": "https://cursor.sh"
  }
}
```

**a2ui.ChecklistItem**
```json
{
  "type": "a2ui.ChecklistItem",
  "id": "check-1",
  "props": {
    "text": "Install Python 3.11+",
    "checked": true,
    "category": "Prerequisites"
  }
}
```

**a2ui.ProConItem**
```json
{
  "type": "a2ui.ProConItem",
  "id": "procon-1",
  "props": {
    "type": "pro",
    "text": "Excellent at long-form content and nuanced reasoning"
  }
}
```

**a2ui.BulletPoint**
```json
{
  "type": "a2ui.BulletPoint",
  "id": "bullet-1",
  "props": {
    "text": "Supports streaming responses",
    "indent": 0,
    "icon": "check"
  }
}
```

### Resource & Link Components

**a2ui.LinkCard**
```json
{
  "type": "a2ui.LinkCard",
  "id": "link-1",
  "props": {
    "url": "https://docs.pydantic.dev/",
    "title": "Pydantic Documentation",
    "description": "Data validation using Python type annotations",
    "favicon": "https://...",
    "domain": "pydantic.dev"
  }
}
```

**a2ui.ToolCard**
```json
{
  "type": "a2ui.ToolCard",
  "id": "tool-1",
  "props": {
    "name": "Cursor",
    "description": "AI-first code editor",
    "url": "https://cursor.sh",
    "pricing": "$20/month",
    "rating": 4.8,
    "category": "IDE",
    "logoUrl": "https://..."
  }
}
```

**a2ui.BookCard**
```json
{
  "type": "a2ui.BookCard",
  "id": "book-1",
  "props": {
    "title": "Building LLM Applications",
    "author": "Jane Smith",
    "coverUrl": "https://...",
    "summary": "A practical guide to building production LLM apps",
    "rating": 4.5,
    "url": "https://..."
  }
}
```

**a2ui.RepoCard**
```json
{
  "type": "a2ui.RepoCard",
  "id": "repo-1",
  "props": {
    "name": "pydantic/pydantic-ai",
    "description": "Agent framework with type-safe tools",
    "stars": 12500,
    "language": "Python",
    "url": "https://github.com/pydantic/pydantic-ai"
  }
}
```

### People & Entity Components

**a2ui.ProfileCard**
```json
{
  "type": "a2ui.ProfileCard",
  "id": "profile-1",
  "props": {
    "name": "Andrej Karpathy",
    "title": "AI Researcher & Educator",
    "avatar": "https://...",
    "bio": "Former Tesla AI Director, OpenAI founding member",
    "links": {
      "twitter": "https://twitter.com/karpathy",
      "youtube": "https://youtube.com/@karpathy"
    }
  }
}
```

**a2ui.CompanyCard**
```json
{
  "type": "a2ui.CompanyCard",
  "id": "company-1",
  "props": {
    "name": "Anthropic",
    "logo": "https://...",
    "description": "AI safety company building Claude",
    "industry": "AI/ML",
    "founded": "2021",
    "url": "https://anthropic.com"
  }
}
```

**a2ui.QuoteCard**
```json
{
  "type": "a2ui.QuoteCard",
  "id": "quote-1",
  "props": {
    "quote": "The best way to predict the future is to invent it.",
    "author": "Alan Kay",
    "source": "1971 Xerox PARC meeting",
    "avatar": "https://..."
  }
}
```

**a2ui.ExpertTip**
```json
{
  "type": "a2ui.ExpertTip",
  "id": "tip-1",
  "props": {
    "tip": "Always validate LLM outputs before using them in production",
    "expertName": "Simon Willison",
    "expertise": "LLM Engineering"
  }
}
```

### Summary & Overview Components

**a2ui.TLDR**
```json
{
  "type": "a2ui.TLDR",
  "id": "tldr-1",
  "props": {
    "summary": "This week saw major releases from OpenAI and Anthropic...",
    "bulletPoints": [
      "GPT-5 released with reasoning",
      "Claude context expanded to 1M tokens",
      "AI regulation bill advances"
    ]
  }
}
```

**a2ui.KeyTakeaways**
```json
{
  "type": "a2ui.KeyTakeaways",
  "id": "takeaways-1",
  "props": {
    "title": "Key Takeaways",
    "takeaways": [
      "Pydantic AI simplifies agent development",
      "Type safety reduces runtime errors",
      "AG-UI enables real-time streaming"
    ],
    "icon": "lightbulb"
  }
}
```

**a2ui.ExecutiveSummary**
```json
{
  "type": "a2ui.ExecutiveSummary",
  "id": "summary-1",
  "props": {
    "title": "Executive Summary",
    "content": "The AI agent landscape is evolving rapidly...",
    "highlights": [
      {"label": "Market Growth", "value": "+23% YoY"},
      {"label": "Adoption Rate", "value": "67%"},
      {"label": "Top Trend", "value": "Agentic AI"}
    ]
  }
}
```

**a2ui.TableOfContents**
```json
{
  "type": "a2ui.TableOfContents",
  "id": "toc-1",
  "props": {
    "sections": [
      {"id": "intro", "title": "Introduction", "level": 1},
      {"id": "setup", "title": "Setup", "level": 1},
      {"id": "prereqs", "title": "Prerequisites", "level": 2}
    ]
  }
}
```

### Comparison Components

**a2ui.ComparisonTable**
```json
{
  "type": "a2ui.ComparisonTable",
  "id": "comparison-1",
  "props": {
    "items": ["Claude", "GPT-4", "Gemini"],
    "features": [
      {"name": "Context Window", "values": ["200K", "128K", "1M"]},
      {"name": "Coding", "values": ["Excellent", "Good", "Good"]},
      {"name": "Speed", "values": ["Fast", "Medium", "Fast"]}
    ]
  }
}
```

**a2ui.VsCard**
```json
{
  "type": "a2ui.VsCard",
  "id": "vs-1",
  "props": {
    "itemA": {"name": "React", "icon": "https://..."},
    "itemB": {"name": "Vue", "icon": "https://..."},
    "winner": "A",
    "criteria": "Enterprise adoption",
    "summary": "React has larger ecosystem and job market"
  }
}
```

**a2ui.FeatureMatrix**
```json
{
  "type": "a2ui.FeatureMatrix",
  "id": "matrix-1",
  "props": {
    "products": ["Cursor", "Copilot", "Cody"],
    "features": [
      {"name": "Chat", "cursor": true, "copilot": true, "cody": true},
      {"name": "Multi-file edit", "cursor": true, "copilot": false, "cody": true},
      {"name": "Terminal", "cursor": true, "copilot": false, "cody": false}
    ]
  }
}
```

**a2ui.PricingTable**
```json
{
  "type": "a2ui.PricingTable",
  "id": "pricing-1",
  "props": {
    "tiers": [
      {"name": "Free", "price": "$0", "features": ["Basic chat", "10 requests/day"]},
      {"name": "Pro", "price": "$20/mo", "features": ["Unlimited chat", "Priority support"]},
      {"name": "Team", "price": "$40/seat", "features": ["All Pro features", "Admin dashboard"]}
    ],
    "recommended": "Pro"
  }
}
```

### Instructional Components

**a2ui.StepCard**
```json
{
  "type": "a2ui.StepCard",
  "id": "step-1",
  "props": {
    "stepNumber": 1,
    "title": "Install Dependencies",
    "content": "First, install the required packages using uv",
    "status": "completed"
  }
}
```

**a2ui.CodeBlock**
```json
{
  "type": "a2ui.CodeBlock",
  "id": "code-1",
  "props": {
    "code": "pip install pydantic-ai",
    "language": "bash",
    "filename": "terminal",
    "showLineNumbers": true
  }
}
```

**a2ui.CalloutCard**
```json
{
  "type": "a2ui.CalloutCard",
  "id": "callout-1",
  "props": {
    "type": "warning",
    "title": "Important",
    "content": "Make sure to use a virtual environment"
  }
}
```

**a2ui.CommandCard**
```json
{
  "type": "a2ui.CommandCard",
  "id": "command-1",
  "props": {
    "command": "uv pip install pydantic-ai fastapi",
    "description": "Install dependencies",
    "output": "Successfully installed pydantic-ai-0.1.0"
  }
}
```

### Layout Components

**a2ui.Section**
```json
{
  "type": "a2ui.Section",
  "id": "section-1",
  "props": {
    "title": "Getting Started",
    "subtitle": "Everything you need to know",
    "collapsible": false
  },
  "children": ["step-1", "step-2", "code-1"]
}
```

**a2ui.Grid**
```json
{
  "type": "a2ui.Grid",
  "id": "grid-1",
  "props": {
    "columns": 3,
    "gap": "md"
  },
  "children": ["stat-1", "stat-2", "stat-3"]
}
```

**a2ui.Columns**
```json
{
  "type": "a2ui.Columns",
  "id": "columns-1",
  "props": {
    "widths": ["1fr", "2fr"]
  },
  "children": ["sidebar-content", "main-content"]
}
```

**a2ui.Tabs**
```json
{
  "type": "a2ui.Tabs",
  "id": "tabs-1",
  "props": {
    "tabs": [
      {"id": "overview", "label": "Overview"},
      {"id": "details", "label": "Details"},
      {"id": "code", "label": "Code"}
    ],
    "defaultTab": "overview"
  },
  "children": {
    "overview": ["summary-1"],
    "details": ["table-1"],
    "code": ["code-1", "code-2"]
  }
}
```

**a2ui.Accordion**
```json
{
  "type": "a2ui.Accordion",
  "id": "accordion-1",
  "props": {
    "sections": [
      {"id": "faq-1", "title": "What is Pydantic AI?"},
      {"id": "faq-2", "title": "How does AG-UI work?"}
    ],
    "allowMultiple": false
  },
  "children": {
    "faq-1": ["answer-1"],
    "faq-2": ["answer-2"]
  }
}
```

**a2ui.Carousel**
```json
{
  "type": "a2ui.Carousel",
  "id": "carousel-1",
  "props": {
    "showArrows": true,
    "showDots": true,
    "autoPlay": false
  },
  "children": ["video-1", "video-2", "video-3"]
}
```

**a2ui.Sidebar**
```json
{
  "type": "a2ui.Sidebar",
  "id": "sidebar-1",
  "props": {
    "position": "right",
    "width": "300px",
    "sticky": true
  },
  "children": ["toc-1", "related-links"]
}
```

### Tag & Category Components

**a2ui.TagCloud**
```json
{
  "type": "a2ui.TagCloud",
  "id": "tags-1",
  "props": {
    "tags": [
      {"label": "AI", "count": 15},
      {"label": "LLM", "count": 12},
      {"label": "Python", "count": 8}
    ]
  }
}
```

**a2ui.CategoryBadge**
```json
{
  "type": "a2ui.CategoryBadge",
  "id": "badge-1",
  "props": {
    "category": "Tutorial",
    "color": "blue"
  }
}
```

**a2ui.DifficultyBadge**
```json
{
  "type": "a2ui.DifficultyBadge",
  "id": "difficulty-1",
  "props": {
    "level": "intermediate"
  }
}
```

### Prose & Insight Components (NEW)

**a2ui.InsightCard**
Extracted key insight from prose content - makes important sentences scannable.
```json
{
  "type": "a2ui.InsightCard",
  "id": "insight-1",
  "props": {
    "insight": "Enterprise adoption has plateaued at 67%, while SMBs are adopting 3x faster",
    "source": "Market Analysis section",
    "importance": "high",
    "icon": "lightbulb"
  }
}
```

**a2ui.PullQuote**
Highlighted phrase from within prose - breaks up walls of text.
```json
{
  "type": "a2ui.PullQuote",
  "id": "pullquote-1",
  "props": {
    "quote": "The future of AI development is type-safe agents",
    "position": "right"
  }
}
```

**a2ui.Prose**
Nicely formatted prose with typography, drop caps, and embedded PullQuotes.
```json
{
  "type": "a2ui.Prose",
  "id": "prose-1",
  "props": {
    "content": "The AI agent landscape is evolving rapidly...",
    "dropCap": true,
    "readingTime": "3 min",
    "pullQuotes": ["pullquote-1"]
  }
}
```

**a2ui.ReadingTime**
Estimated reading time for a section or document.
```json
{
  "type": "a2ui.ReadingTime",
  "id": "readtime-1",
  "props": {
    "minutes": 3,
    "words": 750,
    "label": "3 min read"
  }
}
```

### Action & Next Steps Components (NEW)

**a2ui.ActionItem**
Actionable recommendation extracted from research.
```json
{
  "type": "a2ui.ActionItem",
  "id": "action-1",
  "props": {
    "action": "Evaluate Pydantic AI for the next agent project",
    "priority": "high",
    "context": "Based on framework comparison showing better type safety",
    "dueDate": null,
    "completed": false
  }
}
```

**a2ui.NextSteps**
Container for multiple action items at end of document/section.
```json
{
  "type": "a2ui.NextSteps",
  "id": "nextsteps-1",
  "props": {
    "title": "Recommended Next Steps",
    "description": "Based on this research, consider the following actions:"
  },
  "children": ["action-1", "action-2", "action-3"]
}
```

**a2ui.Recommendation**
Strong recommendation with reasoning.
```json
{
  "type": "a2ui.Recommendation",
  "id": "rec-1",
  "props": {
    "recommendation": "Use Pydantic AI for production agent development",
    "confidence": "high",
    "reasoning": "Best type safety, cleaner APIs, excellent streaming support",
    "alternatives": ["LangChain for broader ecosystem", "CrewAI for multi-agent"]
  }
}
```

### Source & Reference Components (NEW)

**a2ui.SourceCard**
Citation/reference with link.
```json
{
  "type": "a2ui.SourceCard",
  "id": "source-1",
  "props": {
    "title": "Pydantic AI Documentation",
    "url": "https://ai.pydantic.dev",
    "type": "documentation",
    "accessDate": "2025-01-28",
    "description": "Official documentation for Pydantic AI agent framework"
  }
}
```

**a2ui.Bibliography**
Container for multiple sources at end of document.
```json
{
  "type": "a2ui.Bibliography",
  "id": "bibliography-1",
  "props": {
    "title": "Sources & References",
    "count": 5
  },
  "children": ["source-1", "source-2", "source-3"]
}
```

**a2ui.Footnote**
Inline footnote reference with popup content.
```json
{
  "type": "a2ui.Footnote",
  "id": "footnote-1",
  "props": {
    "number": 1,
    "content": "Based on Q4 2024 industry report by Gartner"
  }
}
```

---

## Section-Based Rendering Architecture

Instead of selecting ONE layout for the entire document, the agent processes each section independently and composes them into a cohesive dashboard.

### How Section-Based Rendering Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MARKDOWN DOCUMENT                                               â”‚
â”‚                                                                  â”‚
â”‚  # My Research Document                                          â”‚
â”‚                                                                  â”‚
â”‚  ## Latest News          â† Section 1: Detected as "news"        â”‚
â”‚  ## Tool Comparison      â† Section 2: Detected as "comparison"  â”‚
â”‚  ## Getting Started      â† Section 3: Detected as "tutorial"    â”‚
â”‚  ## Key Statistics       â† Section 4: Detected as "data"        â”‚
â”‚  ## Videos & Resources   â† Section 5: Detected as "media"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RENDERED DASHBOARD                                              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ TLDR (auto-generated for docs > 500 words)              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Section: "Latest News"                                   â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ HeadlineCard                                         â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ HeadlineCard                                         â”‚    â”‚
â”‚  â”‚ â””â”€â”€ TrendIndicator                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Section: "Tool Comparison"                               â”‚    â”‚
â”‚  â”‚ â””â”€â”€ ComparisonTable                                      â”‚    â”‚
â”‚  â”‚     â””â”€â”€ VsCard (winner highlight)                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Section: "Getting Started"                               â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ StepCard #1                                          â”‚    â”‚
â”‚  â”‚ â”‚   â””â”€â”€ CodeBlock                                        â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ StepCard #2                                          â”‚    â”‚
â”‚  â”‚ â”‚   â””â”€â”€ CalloutCard (warning)                            â”‚    â”‚
â”‚  â”‚ â””â”€â”€ StepCard #3                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Section: "Key Statistics"                                â”‚    â”‚
â”‚  â”‚ â””â”€â”€ Grid (3 columns)                                     â”‚    â”‚
â”‚  â”‚     â”œâ”€â”€ StatCard                                         â”‚    â”‚
â”‚  â”‚     â”œâ”€â”€ StatCard                                         â”‚    â”‚
â”‚  â”‚     â””â”€â”€ ProgressRing                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Section: "Videos & Resources"                            â”‚    â”‚
â”‚  â”‚ â”œâ”€â”€ Carousel (videos)                                    â”‚    â”‚
â”‚  â”‚ â”‚   â”œâ”€â”€ VideoCard                                        â”‚    â”‚
â”‚  â”‚ â”‚   â”œâ”€â”€ VideoCard                                        â”‚    â”‚
â”‚  â”‚ â”‚   â””â”€â”€ VideoCard                                        â”‚    â”‚
â”‚  â”‚ â””â”€â”€ Grid (2 columns)                                     â”‚    â”‚
â”‚  â”‚     â”œâ”€â”€ ToolCard                                         â”‚    â”‚
â”‚  â”‚     â””â”€â”€ RepoCard                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Section Type Detection Rules

The agent detects section type based on content patterns:

| Pattern Detected | Section Type |
|-----------------|--------------|
| Headlines with sources/dates | news |
| Markdown tables comparing items | comparison |
| Numbered steps (Step 1, Step 2) | tutorial |
| Statistics, percentages, metrics | data |
| YouTube links | media |
| GitHub links | resources |
| Tool names with pricing/ratings | resources |
| Blockquotes with attribution | quotes |
| Checklist items (- [ ]) | tutorial |
| Pros/Cons lists | comparison |
| Numbered rankings (### 1., ### 2.) | ranked_list |
| **Paragraphs with no structured data** | **prose** |
| **Analysis with recommendations** | **analysis** |
| **References/citations section** | **sources** |
| **"Next Steps" or "Recommendations"** | **actions** |

### Section Layout Rules

Once section type is detected, apply appropriate layout:

**news sections:**
```
â”œâ”€â”€ HeadlineCard (if has source/date)
â”œâ”€â”€ HeadlineCard
â””â”€â”€ TrendIndicator (if has percentage changes)
```

**comparison sections:**
```
â”œâ”€â”€ ComparisonTable (if has markdown table)
â”œâ”€â”€ VsCard (if clear A vs B)
â””â”€â”€ ProConItem list (if has pros/cons)
```

**tutorial sections:**
```
â”œâ”€â”€ ChecklistItem (prerequisites)
â”œâ”€â”€ StepCard #1
â”‚   â””â”€â”€ CodeBlock (if has code)
â”‚   â””â”€â”€ CalloutCard (if has tip/warning)
â”œâ”€â”€ StepCard #2
â””â”€â”€ StepCard #3
```

**data sections:**
```
â”œâ”€â”€ Grid (based on stat count)
â”‚   â”œâ”€â”€ StatCard
â”‚   â”œâ”€â”€ StatCard
â”‚   â””â”€â”€ ProgressRing
â””â”€â”€ DataTable (if has table)
```

**media sections:**
```
â”œâ”€â”€ Carousel (if 4+ videos)
â”‚   â”œâ”€â”€ VideoCard
â”‚   â””â”€â”€ VideoCard
â””â”€â”€ Grid (if 2-3 videos)
    â”œâ”€â”€ VideoCard
    â””â”€â”€ VideoCard
```

**resources sections:**
```
â””â”€â”€ Grid (2-3 columns based on count)
    â”œâ”€â”€ ToolCard (if tool with pricing)
    â”œâ”€â”€ RepoCard (if GitHub link)
    â”œâ”€â”€ BookCard (if book reference)
    â””â”€â”€ LinkCard (fallback)
```

**prose sections:** (NEW - adds value to plain paragraphs)
```
â”œâ”€â”€ InsightCard (1-3 key sentences extracted by agent)
â”œâ”€â”€ InsightCard
â”œâ”€â”€ Prose
â”‚   â”œâ”€â”€ [Nicely formatted paragraphs]
â”‚   â””â”€â”€ PullQuote (embedded in text)
â””â”€â”€ ReadingTime
```

**analysis sections:** (NEW - prose with conclusions)
```
â”œâ”€â”€ InsightCard (key finding)
â”œâ”€â”€ InsightCard (key finding)
â”œâ”€â”€ Prose (analysis text)
â”œâ”€â”€ Recommendation (if clear recommendation exists)
â””â”€â”€ NextSteps
    â”œâ”€â”€ ActionItem
    â””â”€â”€ ActionItem
```

**sources sections:** (NEW - references/citations)
```
â””â”€â”€ Bibliography
    â”œâ”€â”€ SourceCard
    â”œâ”€â”€ SourceCard
    â””â”€â”€ SourceCard
```

**actions sections:** (NEW - explicit next steps)
```
â””â”€â”€ NextSteps
    â”œâ”€â”€ ActionItem (priority: high)
    â”œâ”€â”€ ActionItem (priority: medium)
    â””â”€â”€ ActionItem (priority: low)
```

### Document Wrapper Rules

After rendering all sections, wrap based on document characteristics:

| Condition | Wrapper Applied |
|-----------|----------------|
| Word count > 1500 | Add sticky Sidebar with TableOfContents |
| Section count > 5 | Consider Tabs to group related sections |
| Has explicit TL;DR section | Extract TLDR component to top |
| Word count > 500 | Auto-generate KeyTakeaways at top |

---

## Agent Prompting Strategy

### Document Analysis Prompt (Step 1)

```python
DOCUMENT_ANALYSIS_PROMPT = """
Analyze this Markdown document at the DOCUMENT level:

DOCUMENT:
{markdown_content}

Respond with a JSON object for document-level decisions:
{{
  "title": "Document title from H1",
  "word_count": 1234,
  "section_count": 5,
  "sections": [
    {{"title": "Section 1 Title", "start_line": 10, "word_count": 200}},
    {{"title": "Section 2 Title", "start_line": 45, "word_count": 350}}
  ],
  "has_explicit_tldr": true | false,
  "main_topics": ["topic1", "topic2"],
  "youtube_links": ["url1", "url2"],
  "github_links": ["url1"],
  "needs_toc_sidebar": true | false,
  "needs_auto_tldr": true | false
}}

Rules:
- needs_toc_sidebar = true if word_count > 1500
- needs_auto_tldr = true if word_count > 500 AND has_explicit_tldr = false
"""
```

### Section Analysis Prompt (Step 2 - run for each section)

```python
SECTION_ANALYSIS_PROMPT = """
Analyze this SINGLE SECTION of a Markdown document:

SECTION TITLE: {section_title}
SECTION CONTENT:
{section_content}

Respond with a JSON object:
{{
  "section_type": "news" | "comparison" | "tutorial" | "data" | "resources" | "media" | "quotes" | "prose" | "analysis" | "actions" | "sources" | "ranked_list" | "mixed",
  "has_youtube": true | false,
  "has_github": true | false,
  "has_code": true | false,
  "has_table": true | false,
  "has_stats": true | false,
  "has_list": true | false,
  "has_numbered_rankings": true | false,
  "has_pros_cons": true | false,
  "has_checklist": true | false,
  "has_recommendations": true | false,
  "has_action_items": true | false,
  "item_count": 5,
  "word_count": 350,
  "items": [
    {{"type": "headline", "content": "...", "source": "...", "date": "..."}},
    {{"type": "youtube", "url": "...", "title": "..."}},
    {{"type": "stat", "value": "$196B", "label": "Market Size", "trend": "+23%"}}
  ],
  "extracted_insights": [
    "Key insight sentence 1 extracted from prose",
    "Key insight sentence 2 extracted from prose"
  ],
  "extracted_actions": [
    {{"action": "Evaluate Pydantic AI", "priority": "high", "context": "Best type safety"}},
    {{"action": "Set up CI/CD pipeline", "priority": "medium", "context": "For deployment"}}
  ],
  "pull_quote_candidates": [
    "Short impactful phrase that would look good as a pull quote"
  ]
}}

DETECTION RULES:
- section_type="news" if has headlines with sources/dates
- section_type="comparison" if has comparison table or A vs B structure
- section_type="tutorial" if has numbered steps or checklist
- section_type="data" if has_stats=true and multiple metrics
- section_type="media" if has_youtube=true
- section_type="resources" if has tools/books/links without video
- section_type="ranked_list" if has_numbered_rankings=true
- section_type="quotes" if primarily blockquotes with attribution
- section_type="prose" if mostly paragraphs without structured data
- section_type="analysis" if prose WITH recommendations or conclusions
- section_type="actions" if section title contains "Next Steps", "Recommendations", "Action Items"
- section_type="sources" if section title contains "Sources", "References", "Bibliography"
- section_type="mixed" if multiple types detected equally

INSIGHT EXTRACTION RULES (for prose/analysis sections):
- Extract 1-3 KEY SENTENCES that capture the most important points
- Prioritize sentences with: data, conclusions, surprising findings, actionable advice
- Do NOT extract generic sentences like "This section discusses..."
- Insights should be standalone - make sense without surrounding context

ACTION EXTRACTION RULES (for analysis/actions sections):
- Extract explicit recommendations ("You should...", "Consider...", "We recommend...")
- Extract implicit actions from conclusions
- Assign priority: high (critical), medium (important), low (nice-to-have)
- Include context explaining WHY this action matters

PULL QUOTE RULES:
- Extract 1-2 short, impactful phrases (5-15 words)
- Should be quotable - sounds good on its own
- Avoid technical jargon unless it's the point

Be precise. Extract ALL items with their metadata.
"""
```

### Section Component Generation Prompt (Step 3 - run for each section)

```python
SECTION_COMPONENT_PROMPT = """
Generate A2UI components for this analyzed section.

SECTION ANALYSIS:
{section_analysis}

SECTION TYPE: {section_type}
ITEM COUNT: {item_count}
ITEMS: {items}

COMPONENT SELECTION RULES (STRICTLY FOLLOW):
- YouTube URLs â†’ VideoCard (NEVER LinkCard)
- GitHub repos â†’ RepoCard (NEVER LinkCard)
- Statistics â†’ StatCard with trend indicator
- Rankings (### 1., ### 2.) â†’ RankedItem with rank badge
- Step-by-step â†’ StepCard with stepNumber
- Code snippets â†’ CodeBlock with language
- Tips/warnings â†’ CalloutCard with type
- Quotes â†’ QuoteCard with author
- Tools with pricing â†’ ToolCard
- Book references â†’ BookCard
- Pros â†’ ProConItem type="pro"
- Cons â†’ ProConItem type="con"
- Checklist items â†’ ChecklistItem

LAYOUT RULES BASED ON ITEM COUNT:
- 1 item â†’ Full width, no grid
- 2 items â†’ Grid with columns=2
- 3 items â†’ Grid with columns=3
- 4+ items â†’
  - If media (videos): Carousel
  - If cards: Grid with columns=2, rows wrap
- 10+ items â†’ Accordion (collapsed)

VARIETY RULES:
- NEVER use more than 3 identical components in a row
- Mix component types when section has diverse content

Generate A2UI JSON for this section:
{{
  "type": "a2ui.Section",
  "id": "section-{section_id}",
  "props": {{
    "title": "{section_title}",
    "collapsible": false
  }},
  "children": [
    // component IDs
  ]
}}

Also generate all child components.
"""
```

### Document Assembly Prompt (Step 4)

```python
DOCUMENT_ASSEMBLY_PROMPT = """
Assemble the final dashboard from analyzed sections.

DOCUMENT ANALYSIS: {document_analysis}
SECTION COMPONENTS: {all_section_components}

ASSEMBLY RULES:

1. If needs_auto_tldr=true:
   - Generate TLDR component from document highlights
   - Place at very top of dashboard

2. If needs_toc_sidebar=true:
   - Wrap main content in Columns component
   - Left column (3/4 width): All section components
   - Right column (1/4 width): Sticky TableOfContents

3. If section_count > 5 AND sections are diverse:
   - Consider grouping into Tabs
   - Tab 1: Overview (TLDR + first sections)
   - Tab 2: Details (data/comparison sections)
   - Tab 3: Resources (media/resource sections)

4. Otherwise:
   - Stack all sections vertically
   - Add visual separators between sections

5. VARIETY CHECK:
   - Count unique component types across all sections
   - If < 4 unique types, add variety (e.g., add KeyTakeaways)

Generate final A2UI component tree.
"""
```

### Component Matching Reference

| Content Pattern | Component | Required Props |
|----------------|-----------|----------------|
| YouTube URL | VideoCard | videoId, title, channel |
| GitHub URL | RepoCard | name, stars, language |
| `**Source:** X \| **Date:** Y` | HeadlineCard | title, source, date |
| `+23%` or `-15%` | TrendIndicator | direction, percentage |
| `$196B` or `67%` | StatCard | value, label, trend |
| `### 1.` heading | RankedItem | rank, title, description |
| `## Step 1:` | StepCard | stepNumber, title, content |
| ````python` | CodeBlock | code, language |
| `> ðŸ’¡ **Tip:**` | CalloutCard | type="tip", content |
| `> âš ï¸ **Warning:**` | CalloutCard | type="warning", content |
| `> "Quote" - Author` | QuoteCard | quote, author |
| `**Pros:**` list | ProConItem | type="pro", text |
| `**Cons:**` list | ProConItem | type="con", text |
| `- [ ] Task` | ChecklistItem | text, checked=false |
| `- [x] Task` | ChecklistItem | text, checked=true |
| Tool + `$20/month` | ToolCard | name, pricing, rating |
| `| Col1 | Col2 |` table | DataTable or ComparisonTable | columns, rows |
| **Prose section** | InsightCard + Prose | insight, content |
| **Extracted key sentence** | InsightCard | insight, source, importance |
| **Impactful short phrase** | PullQuote | quote, position |
| **Paragraphs of text** | Prose | content, dropCap, readingTime |
| **"You should..." / "Consider..."** | ActionItem | action, priority, context |
| **Section with actions** | NextSteps | title, children (ActionItems) |
| **"We recommend..."** | Recommendation | recommendation, confidence, reasoning |
| **Citation/reference** | SourceCard | title, url, type, accessDate |
| **References section** | Bibliography | title, children (SourceCards) |

---

## File Structure

```
second-brain-dashboard/
â”œâ”€â”€ frontend/                    # React + Vite + Bun
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ a2ui-catalog/    # A2UI component implementations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ news/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ headline-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ trend-indicator.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ timeline-event.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ news-ticker.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ media/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ video-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ image-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ playlist-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ podcast-card.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ stat-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metric-row.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ progress-ring.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comparison-bar.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data-table.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mini-chart.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ lists/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ranked-item.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ checklist-item.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pro-con-item.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ bullet-point.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ link-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tool-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ book-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repo-card.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ prose/               # NEW - prose handling
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ insight-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pull-quote.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ prose.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reading-time.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ actions/             # NEW - action items
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ action-item.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ next-steps.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ recommendation.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sources/             # NEW - references
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ source-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bibliography.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ footnote.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ people/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ profile-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ company-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ quote-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ expert-tip.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ summary/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tldr.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ key-takeaways.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ executive-summary.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ table-of-contents.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comparison/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ comparison-table.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vs-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ feature-matrix.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ pricing-table.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ instructional/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ step-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ code-block.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ callout-card.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ command-card.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ section.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ grid.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ columns.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tabs.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ accordion.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ carousel.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sidebar.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ tags/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ tag-cloud.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ category-badge.tsx
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ difficulty-badge.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/              # Shadcn base components
â”‚   â”‚   â”‚   â””â”€â”€ markdown-input.tsx
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ a2ui-catalog.ts  # Catalog registration
â”‚   â”‚   â”‚   â””â”€â”€ copilot-provider.tsx
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ bun.lockb
â”œâ”€â”€ agent/                       # Python Pydantic AI agent
â”‚   â”œâ”€â”€ main.py                  # FastAPI + AG-UI adapter
â”‚   â”œâ”€â”€ agent.py                 # Pydantic AI agent definition
â”‚   â”œâ”€â”€ content_analyzer.py      # Document-level analysis
â”‚   â”œâ”€â”€ section_analyzer.py      # Section-level analysis
â”‚   â”œâ”€â”€ section_layout.py        # Section layout selection
â”‚   â”œâ”€â”€ a2ui_generator.py        # A2UI JSON generators (48 functions)
â”‚   â”œâ”€â”€ orchestrator.py          # Main section-based rendering flow
â”‚   â”œâ”€â”€ models.py                # Pydantic models
â”‚   â”œâ”€â”€ prompts.py               # All prompt templates
â”‚   â””â”€â”€ pyproject.toml           # uv package config
â”œâ”€â”€ sample-documents/            # Demo Markdown files
â”‚   â”œâ”€â”€ ai-news-weekly.md
â”‚   â”œâ”€â”€ top-10-coding-tools.md
â”‚   â”œâ”€â”€ claude-vs-gpt-comparison.md
â”‚   â”œâ”€â”€ agentic-workflows-tutorial.md
â”‚   â”œâ”€â”€ ai-industry-statistics.md
â”‚   â””â”€â”€ agentic-ai-deep-dive.md  # Mixed content demo
â”œâ”€â”€ .env
â””â”€â”€ README.md
```

---

## Data Models

### DocumentAnalysis (Pydantic)
```python
class SectionInfo(BaseModel):
    title: str
    start_line: int
    word_count: int

class DocumentAnalysis(BaseModel):
    title: str
    word_count: int
    section_count: int
    sections: list[SectionInfo]
    has_explicit_tldr: bool
    main_topics: list[str]
    youtube_links: list[str]
    github_links: list[str]
    needs_toc_sidebar: bool  # True if word_count > 1500
    needs_auto_tldr: bool    # True if word_count > 500 and no explicit TLDR
```

### SectionAnalysis (Pydantic)
```python
class SectionItem(BaseModel):
    type: Literal["headline", "youtube", "github", "stat", "step", "code", "quote", "tool", "book", "link", "pro", "con", "checklist", "text", "recommendation"]
    content: str
    metadata: dict[str, Any] = {}  # type-specific fields

class ExtractedInsight(BaseModel):
    insight: str
    importance: Literal["high", "medium", "low"]
    source_sentence: str  # Original sentence it was extracted from

class ExtractedAction(BaseModel):
    action: str
    priority: Literal["high", "medium", "low"]
    context: str  # Why this action matters

class SectionAnalysis(BaseModel):
    title: str
    section_type: Literal["news", "comparison", "tutorial", "data", "resources", "media", "quotes", "prose", "analysis", "actions", "sources", "ranked_list", "mixed"]
    has_youtube: bool
    has_github: bool
    has_code: bool
    has_table: bool
    has_stats: bool
    has_list: bool
    has_numbered_rankings: bool
    has_pros_cons: bool
    has_checklist: bool
    has_recommendations: bool
    has_action_items: bool
    item_count: int
    word_count: int
    items: list[SectionItem]
    # NEW: Extracted content for prose/analysis sections
    extracted_insights: list[ExtractedInsight] = []  # Key sentences to highlight
    extracted_actions: list[ExtractedAction] = []    # Actionable recommendations
    pull_quote_candidates: list[str] = []            # Short impactful phrases
```

### A2UIComponent (Pydantic)
```python
class A2UIComponent(BaseModel):
    type: str  # e.g., "a2ui.StatCard"
    id: str
    props: dict[str, Any]
    children: list[str] | dict[str, list[str]] | None = None
```

### DashboardState (Pydantic)
```python
class DashboardState(BaseModel):
    document_analysis: DocumentAnalysis
    section_analyses: list[SectionAnalysis]
    components: list[A2UIComponent]
    component_type_counts: dict[str, int]  # For variety enforcement
```

---

## Sample Documents for Demo

### 1. AI News Weekly (â†’ Magazine Layout)

```markdown
# This Week in AI - January 27, 2025

## ðŸ”¥ Top Story

### OpenAI Announces GPT-5 with Native Reasoning
OpenAI revealed GPT-5 this week, featuring built-in chain-of-thought reasoning...

**Source:** TechCrunch | **Date:** Jan 25, 2025

## ðŸ“ˆ Trending Topics

| Topic | Change | Discussion Volume |
|-------|--------|-------------------|
| Agentic AI | +340% | 45.2K posts |
| AI Regulation | -12% | 23.1K posts |
| Multimodal Models | +89% | 31.4K posts |

## ðŸ“° More Headlines

- **Anthropic expands Claude context to 1M tokens** - Major upgrade for long-document processing
- **Google DeepMind achieves protein folding breakthrough** - AlphaFold 3 predicts protein interactions
- **EU AI Act enters enforcement phase** - Companies have 6 months to comply

## ðŸŽ¬ Videos of the Week

- [AI Agents Explained in 10 Minutes](https://youtube.com/watch?v=abc123) - 125K views
- [Building with Claude 3.5](https://youtube.com/watch?v=def456) - 89K views
```

### 2. Top 10 AI Coding Tools (â†’ Ranked List Layout)

```markdown
# Top 10 AI Coding Tools for 2025

## TL;DR
Cursor leads the pack with its AI-first approach, but GitHub Copilot remains the most widely adopted. New entrants like Cody and Continue are gaining traction with their open-source models.

## The Rankings

### 1. Cursor
**Rating:** 4.8/5 | **Pricing:** $20/month | **Best for:** Full IDE replacement

The AI-first code editor that's changing how developers write code. Features include multi-file editing, codebase-aware chat, and terminal integration.

**Pros:**
- Excellent multi-file editing
- Built-in terminal with AI
- Fast and responsive

**Cons:**
- Requires VS Code migration
- Higher price point

### 2. GitHub Copilot
**Rating:** 4.5/5 | **Pricing:** $10/month | **Best for:** VS Code users

The original AI coding assistant, now with chat and voice features...

### 3. Cody by Sourcegraph
**Rating:** 4.4/5 | **Pricing:** Free tier available | **Best for:** Large codebases
...
```

### 3. Claude vs GPT Comparison (â†’ Comparison Layout)

```markdown
# Claude Sonnet 4 vs GPT-4o: Complete Comparison

## Quick Stats

| Metric | Claude Sonnet 4 | GPT-4o |
|--------|-----------------|--------|
| Context Window | 200K tokens | 128K tokens |
| Speed | ~80 tokens/sec | ~60 tokens/sec |
| Coding Benchmark | 92.3% | 89.1% |
| Price (1M tokens) | $3 input / $15 output | $5 input / $15 output |

## Head-to-Head: Coding

**Winner: Claude Sonnet 4**

Claude excels at understanding complex codebases and providing nuanced explanations. In our testing, Claude produced more idiomatic code with better error handling.

## Head-to-Head: Creative Writing

**Winner: GPT-4o**

GPT-4o has a slight edge in creative tasks, with more varied vocabulary and stylistic range...

## Recommendation

For coding and technical work: **Claude Sonnet 4**
For creative and general use: **GPT-4o**
For budget-conscious teams: **Claude Sonnet 4** (better price/performance)
```

### 4. Agentic Workflows Tutorial (â†’ Tutorial Layout)

```markdown
# How to Set Up Agentic Coding Workflows

## Prerequisites

- [ ] Python 3.11 or higher
- [ ] uv package manager installed
- [ ] OpenRouter API key
- [ ] Basic understanding of async Python

## Step 1: Create Project Structure

First, create a new directory and initialize the project:

```bash
mkdir my-agent && cd my-agent
uv init
uv add pydantic-ai fastapi uvicorn
```

> ðŸ’¡ **Tip:** Using uv is much faster than pip for dependency resolution

## Step 2: Define Your Agent

Create `agent.py` with your agent definition:

```python
from pydantic_ai import Agent

agent = Agent(
    "openrouter:anthropic/claude-sonnet-4",
    system_prompt="You are a helpful coding assistant."
)
```

> âš ï¸ **Warning:** Never commit your API keys to version control

## Step 3: Add Tools

Tools let your agent interact with the outside world...
```

### 5. AI Industry Statistics (â†’ Dashboard Layout)

```markdown
# AI Industry Statistics - Q4 2024

## Key Metrics

- **Total AI Market Size:** $196.6 billion (+23.1% YoY)
- **Enterprise AI Adoption:** 67% of companies
- **Average AI Project ROI:** 3.4x
- **AI Startup Funding:** $42.5 billion in 2024

## Market Breakdown

| Segment | Size | Growth |
|---------|------|--------|
| Generative AI | $67.2B | +52% |
| ML Platforms | $45.1B | +18% |
| Computer Vision | $32.8B | +15% |
| NLP | $28.5B | +21% |

## Investment Trends

| Quarter | VC Funding | Deals | Avg Deal Size |
|---------|------------|-------|---------------|
| Q1 2024 | $12.3B | 342 | $36M |
| Q2 2024 | $15.1B | 389 | $39M |
| Q3 2024 | $11.8B | 315 | $37M |
| Q4 2024 | $13.3B | 356 | $37M |

## Top Funded Companies 2024

1. **Anthropic** - $4.0B (Series D)
2. **xAI** - $3.0B (Series B)
3. **Mistral** - $640M (Series B)
```

### 6. Mixed Research Document (â†’ Section-Based Rendering Demo)

This document demonstrates how section-based rendering handles mixed content types:

```markdown
# Agentic AI Deep Dive - January 2025

## TL;DR

The agentic AI landscape is evolving rapidly. Key takeaways:
- Market growing 23% YoY to $196B
- Pydantic AI and LangGraph are leading frameworks
- Human-in-the-loop patterns are becoming standard
- Expect consolidation in the framework space by Q3

## This Week's News

### OpenAI Releases GPT-5 with Reasoning
OpenAI unveiled GPT-5 featuring native chain-of-thought reasoning and improved tool use.
**Source:** TechCrunch | **Date:** Jan 25, 2025

### Anthropic Expands Claude Context to 1M Tokens
Major upgrade enables processing of entire codebases in a single prompt.
**Source:** The Verge | **Date:** Jan 23, 2025

### EU AI Act Enforcement Begins
Companies have 6 months to comply with new regulations.
**Source:** Reuters | **Date:** Jan 20, 2025

## Market Statistics

- **Total AI Market Size:** $196.6 billion (+23.1% YoY)
- **Enterprise AI Adoption:** 67% of companies
- **Agent Framework Downloads:** 2.3M/month (Pydantic AI + LangChain)
- **Average Agent Project ROI:** 4.2x

## Framework Comparison

| Framework | GitHub Stars | Language | Best For |
|-----------|-------------|----------|----------|
| LangChain | 95K | Python/JS | General purpose |
| Pydantic AI | 12K | Python | Type-safe agents |
| CrewAI | 8K | Python | Multi-agent |
| AutoGen | 35K | Python | Research |

### Head-to-Head: Pydantic AI vs LangChain

**Winner for production apps: Pydantic AI**

Pydantic AI offers better type safety and cleaner APIs. LangChain has broader ecosystem but more complexity.

**Pros of Pydantic AI:**
- Type-safe tool definitions
- Clean, minimal API
- Excellent streaming support

**Cons of Pydantic AI:**
- Smaller ecosystem
- Fewer tutorials available

## Getting Started with Pydantic AI

### Prerequisites

- [ ] Python 3.11 or higher
- [ ] uv package manager
- [ ] OpenRouter API key

### Step 1: Install Dependencies

```bash
uv init my-agent
cd my-agent
uv add pydantic-ai
```

> ðŸ’¡ **Tip:** uv is 10-100x faster than pip for dependency resolution

### Step 2: Create Your First Agent

```python
from pydantic_ai import Agent

agent = Agent(
    "openrouter:anthropic/claude-sonnet-4",
    system_prompt="You are a helpful assistant."
)

result = await agent.run("Hello!")
print(result.data)
```

> âš ï¸ **Warning:** Never commit API keys to version control

### Step 3: Add Tools

```python
@agent.tool
async def get_weather(city: str) -> str:
    """Get current weather for a city."""
    return f"Weather in {city}: 72Â°F, sunny"
```

## Must-Watch Videos

- [Pydantic AI Full Tutorial](https://youtube.com/watch?v=abc123) by ArjanCodes - 45K views
- [Building Production Agents](https://youtube.com/watch?v=def456) by Fireship - 230K views
- [Agent Patterns Deep Dive](https://youtube.com/watch?v=ghi789) by AI Jason - 89K views
- [LangGraph vs Pydantic AI](https://youtube.com/watch?v=jkl012) by Cole Medin - 56K views
- [Claude API Best Practices](https://youtube.com/watch?v=mno345) by Anthropic - 120K views

## Tools & Resources

- **Cursor** - AI-first code editor - $20/month - â­ 4.8/5
- **Pydantic AI** - Type-safe agent framework - Free - [GitHub](https://github.com/pydantic/pydantic-ai)
- **AG-UI Protocol** - Agent-UI communication - Free - [Docs](https://ag-ui.com)
- **CopilotKit** - React components for AI - Free tier - [Website](https://copilotkit.ai)

## Expert Insights

> "The future of AI development is type-safe agents with human-in-the-loop patterns."
> â€” Simon Willison, AI Engineer

> "Pydantic AI represents a maturation of the agent framework space."
> â€” Samuel Colvin, Pydantic Creator

## What's Next

The agent ecosystem will continue to evolve. Watch for:
1. Framework consolidation (expect 2-3 winners)
2. Better debugging and observability tools
3. Standardized agent-to-agent communication protocols
4. More enterprise-focused security features
```

This document will render with:
- TLDR component at top (explicit TL;DR section)
- TOC sidebar (>1500 words)
- News section â†’ HeadlineCards
- Statistics section â†’ StatCards in grid
- Comparison section â†’ ComparisonTable + VsCard + ProConItems
- Tutorial section â†’ StepCards + CodeBlocks + CalloutCards
- Videos section â†’ Carousel of VideoCards
- Resources section â†’ Grid of ToolCards + RepoCards
- Quotes section â†’ QuoteCards

### 7. Market Analysis Report (â†’ Prose with Insights Demo)

This document demonstrates how prose-heavy content gets enhanced with insight extraction:

```markdown
# AI Agent Market Analysis - Strategic Assessment

## Executive Summary

The enterprise AI agent market has reached an inflection point. After years of experimentation, organizations are now deploying agents in production at scale. However, significant challenges remain around reliability, security, and governance. This analysis examines the current state of the market and provides strategic recommendations for technology leaders.

## Market Dynamics

The shift from experimental to production AI agents represents a fundamental change in enterprise software. Unlike chatbots and simple automation, agents can reason, plan, and execute multi-step tasks autonomously. This capability is transforming how organizations approach everything from customer service to software development.

Enterprise adoption has plateaued at 67%, but this masks significant variation. Large enterprises (>10,000 employees) have adoption rates exceeding 85%, while mid-market companies lag at around 45%. The gap is primarily due to resource constraints and risk tolerance, not lack of interest.

Small and medium businesses are adopting AI agents 3x faster than enterprise, driven by the availability of low-code platforms and pre-built solutions. This bottom-up adoption pattern suggests that agents will become ubiquitous within 3-5 years, similar to how cloud computing evolved.

## Competitive Landscape

The agent framework market is consolidating rapidly. We expect only 2-3 major players to remain dominant by end of 2025. Pydantic AI has emerged as the leader for type-safe production deployments, while LangChain maintains its position for rapid prototyping and experimentation.

The most significant trend is the emergence of "agent infrastructure" companies - firms that provide observability, security, and governance layers on top of existing frameworks. This mirrors the evolution of cloud computing, where infrastructure and tooling eventually became more valuable than the core compute layer.

## Strategic Recommendations

Based on our analysis, we recommend the following actions:

For technology leaders considering agent adoption:
- Start with well-defined, low-risk use cases before expanding to critical workflows
- Invest heavily in observability and testing infrastructure from day one
- Build internal expertise rather than relying solely on vendors
- Establish clear governance frameworks before deploying autonomous agents

For organizations already using agents:
- Prioritize type safety and reliability over feature velocity
- Implement human-in-the-loop patterns for high-stakes decisions
- Build comprehensive audit trails for compliance requirements
- Plan for model portability as the LLM landscape evolves

## Conclusion

The AI agent market is maturing rapidly, but significant risks remain. Organizations that invest in robust infrastructure and governance will be best positioned to capture value as the technology improves. The winners in this space will be those who balance innovation speed with operational excellence.

## Sources

- Gartner AI Market Report, Q4 2024
- McKinsey "State of AI" Survey, January 2025
- Enterprise interviews (n=50), conducted December 2024
```

This document will render with:
- ExecutiveSummary component at top
- **InsightCard**: "Enterprise adoption has plateaued at 67%..."
- **InsightCard**: "Small and medium businesses are adopting AI agents 3x faster than enterprise"
- **InsightCard**: "We expect only 2-3 major players to remain dominant by end of 2025"
- **PullQuote**: "The winners in this space will be those who balance innovation speed with operational excellence"
- **Prose** components for the analysis paragraphs
- **ReadingTime**: "5 min read"
- **NextSteps** container with:
  - **ActionItem**: "Start with well-defined, low-risk use cases" (high priority)
  - **ActionItem**: "Invest in observability and testing infrastructure" (high priority)
  - **ActionItem**: "Build internal expertise" (medium priority)
  - **ActionItem**: "Establish governance frameworks" (medium priority)
- **Recommendation**: "Prioritize type safety and reliability over feature velocity"
- **Bibliography** with SourceCards for the references

---

## UI/UX Requirements

### Design System
- Dark theme (primary) with blue accent colors (#3B82F6)
- Modern, clean aesthetic
- Shadcn/ui components for consistency
- Smooth animations for state transitions (framer-motion)
- Responsive design (mobile-friendly)

### Key Screens

**1. Input Page (Left Panel)**
- Large textarea for Markdown input
- Drag-and-drop file upload
- Sample document buttons
- "Generate Dashboard" button
- Character/word count display

**2. Dashboard (Right Panel)**
- Generated A2UI components
- Layout adapts to content type
- Smooth loading transitions
- Empty state with instructions

### Interactions
- Real-time component streaming via SSE
- Smooth fade-in for new components
- Collapsible sections with animation
- Copy button on code blocks
- Video thumbnail click to expand

---

## Task List

```json
[
  {
    "category": "setup",
    "description": "Initialize React project with Vite and Bun",
    "steps": [
      "Run bun create vite frontend --template react-ts",
      "Install dependencies: bun add react react-dom",
      "Install CopilotKit: bun add @copilotkit/react-core @copilotkit/react-ui",
      "Configure Vite for port 3010",
      "Verify project runs with bun dev"
    ],
    "passes": false
  },
  {
    "category": "setup",
    "description": "Install and configure Tailwind CSS + Shadcn",
    "steps": [
      "Install Tailwind: bun add -d tailwindcss postcss autoprefixer",
      "Initialize Tailwind config",
      "Initialize shadcn/ui with bunx shadcn@latest init",
      "Install core components: button, card, input, textarea, badge, tabs, accordion",
      "Configure dark theme as default",
      "Verify components render correctly"
    ],
    "passes": false
  },
  {
    "category": "setup",
    "description": "Initialize Python agent with uv",
    "steps": [
      "Create agent/ directory",
      "Run uv init in agent directory",
      "Add dependencies: uv add pydantic-ai fastapi uvicorn ag-ui-protocol httpx",
      "Create main.py with FastAPI app",
      "Verify server runs with uv run uvicorn main:app"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Configure Pydantic AI agent with OpenRouter",
    "steps": [
      "Create agent.py with Pydantic AI agent definition",
      "Configure OpenRouterModel with Claude Sonnet 4",
      "Set up environment variable loading for OPENROUTER_API_KEY",
      "Create AgentState Pydantic model",
      "Test agent initialization and basic completion"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement AG-UI adapter for CopilotKit",
    "steps": [
      "Import AGUIAdapter from ag-ui-protocol",
      "Create FastAPI endpoint at /ag-ui/stream",
      "Configure AGUIAdapter.run_stream() for SSE responses",
      "Set up CORS for frontend (port 3010)",
      "Test SSE connection from browser"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Build document-level analysis pipeline",
    "steps": [
      "Create content_analyzer.py module",
      "Implement parse_markdown_sections() to split on H2 headers",
      "Implement analyze_document() for document-level analysis",
      "Create DocumentAnalysis and SectionInfo Pydantic models",
      "Add YouTube link extraction regex",
      "Add GitHub link extraction regex",
      "Calculate word counts and section counts",
      "Determine needs_toc_sidebar and needs_auto_tldr flags",
      "Test with sample documents"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Build section-level analysis pipeline",
    "steps": [
      "Implement analyze_section() for individual section analysis",
      "Create SectionAnalysis and SectionItem Pydantic models",
      "Detect section_type based on content patterns",
      "Extract items with metadata (headlines, stats, tools, etc.)",
      "Count items for layout decisions",
      "Detect has_youtube, has_github, has_code, has_table flags",
      "Detect has_stats, has_list, has_numbered_rankings flags",
      "Detect has_pros_cons, has_checklist flags",
      "Test section analysis with different section types"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Build section layout selector",
    "steps": [
      "Create section_layout.py module",
      "Implement select_section_layout() based on section_type and item_count",
      "Apply item count rules: 1=full, 2=2col, 3=3col, 4+=carousel/grid",
      "Apply section type rules: news=stack, data=grid, media=carousel",
      "Return layout decision with columns, component types",
      "Test layout selection with different section types"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Create A2UI generator module with base functions",
    "steps": [
      "Create a2ui_generator.py module",
      "Implement A2UIComponent Pydantic model",
      "Create generate_component() base function",
      "Implement generate_id() for unique IDs",
      "Create emit_components() for AG-UI streaming",
      "Test basic component generation"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement news component generators",
    "steps": [
      "Add generate_headline_card() function",
      "Add generate_trend_indicator() function",
      "Add generate_timeline_event() function",
      "Add generate_news_ticker() function",
      "Validate JSON matches A2UI spec",
      "Test with news content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement media component generators",
    "steps": [
      "Add generate_video_card() function with YouTube parsing",
      "Add generate_image_card() function",
      "Add generate_playlist_card() function",
      "Add generate_podcast_card() function",
      "Handle YouTube URL to videoId conversion",
      "Test with media-rich content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement data component generators",
    "steps": [
      "Add generate_stat_card() function",
      "Add generate_metric_row() function",
      "Add generate_progress_ring() function",
      "Add generate_comparison_bar() function",
      "Add generate_data_table() function",
      "Add generate_mini_chart() function",
      "Test with statistics content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement list component generators",
    "steps": [
      "Add generate_ranked_item() function",
      "Add generate_checklist_item() function",
      "Add generate_pro_con_item() function",
      "Add generate_bullet_point() function",
      "Test with ranked list content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement resource component generators",
    "steps": [
      "Add generate_link_card() function",
      "Add generate_tool_card() function",
      "Add generate_book_card() function",
      "Add generate_repo_card() function with GitHub parsing",
      "Test with resource collection content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement people component generators",
    "steps": [
      "Add generate_profile_card() function",
      "Add generate_company_card() function",
      "Add generate_quote_card() function",
      "Add generate_expert_tip() function",
      "Test with profile/quote content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement summary component generators",
    "steps": [
      "Add generate_tldr() function",
      "Add generate_key_takeaways() function",
      "Add generate_executive_summary() function",
      "Add generate_table_of_contents() function",
      "Test with long-form content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement comparison component generators",
    "steps": [
      "Add generate_comparison_table() function",
      "Add generate_vs_card() function",
      "Add generate_feature_matrix() function",
      "Add generate_pricing_table() function",
      "Test with comparison content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement instructional component generators",
    "steps": [
      "Add generate_step_card() function",
      "Add generate_code_block() function with language detection",
      "Add generate_callout_card() function",
      "Add generate_command_card() function",
      "Test with tutorial content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement layout component generators",
    "steps": [
      "Add generate_section() function",
      "Add generate_grid() function",
      "Add generate_columns() function",
      "Add generate_tabs() function",
      "Add generate_accordion() function",
      "Add generate_carousel() function",
      "Add generate_sidebar() function",
      "Test layout nesting"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement tag component generators",
    "steps": [
      "Add generate_tag_cloud() function",
      "Add generate_category_badge() function",
      "Add generate_difficulty_badge() function",
      "Test with tagged content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement prose component generators (NEW)",
    "steps": [
      "Add generate_insight_card() function for extracted key sentences",
      "Add generate_pull_quote() function for impactful phrases",
      "Add generate_prose() function for formatted paragraphs",
      "Add generate_reading_time() function",
      "Implement insight extraction logic (identify key sentences)",
      "Implement pull quote selection logic (short impactful phrases)",
      "Test with prose-heavy content"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement action component generators (NEW)",
    "steps": [
      "Add generate_action_item() function with priority levels",
      "Add generate_next_steps() function as container",
      "Add generate_recommendation() function with confidence",
      "Implement action extraction logic from analysis sections",
      "Test with content containing recommendations"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Implement source component generators (NEW)",
    "steps": [
      "Add generate_source_card() function for citations",
      "Add generate_bibliography() function as container",
      "Add generate_footnote() function for inline references",
      "Test with content containing sources/references"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Build section-based orchestrator flow",
    "steps": [
      "Create orchestrate_dashboard() main function",
      "Step 1: Parse markdown into sections",
      "Step 2: Analyze document-level (word count, TOC needed, TLDR needed)",
      "Step 3: Loop through sections and analyze each independently",
      "Step 4: Generate components for each section based on section_type",
      "Step 5: Apply item_count layout rules per section",
      "Step 6: Assemble document wrapper (TOC sidebar if needed)",
      "Step 7: Add TLDR/KeyTakeaways if needed",
      "Add variety enforcement (min 4 types across all sections)",
      "Stream components via AG-UI as they're generated",
      "Test full flow with mixed content document"
    ],
    "passes": false
  },
  {
    "category": "backend",
    "description": "Create prompt templates module",
    "steps": [
      "Create prompts.py with DOCUMENT_ANALYSIS_PROMPT",
      "Add SECTION_ANALYSIS_PROMPT",
      "Add SECTION_COMPONENT_PROMPT",
      "Add DOCUMENT_ASSEMBLY_PROMPT",
      "Include component matching reference table",
      "Add variety enforcement instructions",
      "Test prompts produce expected outputs for each section type"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Create markdown input component",
    "steps": [
      "Create components/markdown-input.tsx",
      "Add large textarea with placeholder",
      "Add file upload drag-and-drop support",
      "Add character/word count display",
      "Add Generate button",
      "Style with Tailwind dark theme"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Set up CopilotKit provider",
    "steps": [
      "Create lib/copilot-provider.tsx",
      "Configure CopilotKit with AG-UI runtime URL (port 8000)",
      "Wrap App in CopilotProvider",
      "Test connection to backend"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Create A2UI catalog registration",
    "steps": [
      "Create lib/a2ui-catalog.ts",
      "Set up catalog object mapping a2ui.* to components",
      "Create A2UIRenderer with catalog",
      "Export for use in App"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Build main App layout",
    "steps": [
      "Create split-panel layout (input left, dashboard right)",
      "Add header with title",
      "Add CopilotKit A2UI renderer in right panel",
      "Add empty state for dashboard",
      "Style with dark theme"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement news components",
    "steps": [
      "Create components/a2ui-catalog/news/headline-card.tsx",
      "Create trend-indicator.tsx with up/down arrows",
      "Create timeline-event.tsx with timeline styling",
      "Create news-ticker.tsx with scroll animation",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement media components",
    "steps": [
      "Create components/a2ui-catalog/media/video-card.tsx with YouTube embed",
      "Create image-card.tsx with lazy loading",
      "Create playlist-card.tsx",
      "Create podcast-card.tsx",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement data components",
    "steps": [
      "Create components/a2ui-catalog/data/stat-card.tsx",
      "Create metric-row.tsx",
      "Create progress-ring.tsx with SVG circle",
      "Create comparison-bar.tsx",
      "Create data-table.tsx with sorting",
      "Create mini-chart.tsx with simple SVG",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement list components",
    "steps": [
      "Create components/a2ui-catalog/lists/ranked-item.tsx",
      "Create checklist-item.tsx with checkbox",
      "Create pro-con-item.tsx with icons",
      "Create bullet-point.tsx",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement resource components",
    "steps": [
      "Create components/a2ui-catalog/resources/link-card.tsx",
      "Create tool-card.tsx with rating stars",
      "Create book-card.tsx with cover image",
      "Create repo-card.tsx with GitHub styling",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement people components",
    "steps": [
      "Create components/a2ui-catalog/people/profile-card.tsx",
      "Create company-card.tsx",
      "Create quote-card.tsx with quotation styling",
      "Create expert-tip.tsx",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement summary components",
    "steps": [
      "Create components/a2ui-catalog/summary/tldr.tsx",
      "Create key-takeaways.tsx with checkmarks",
      "Create executive-summary.tsx",
      "Create table-of-contents.tsx with links",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement comparison components",
    "steps": [
      "Create components/a2ui-catalog/comparison/comparison-table.tsx",
      "Create vs-card.tsx with VS styling",
      "Create feature-matrix.tsx with checkmarks",
      "Create pricing-table.tsx with tiers",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement instructional components",
    "steps": [
      "Create components/a2ui-catalog/instructional/step-card.tsx",
      "Create code-block.tsx with syntax highlighting (Prism or Shiki)",
      "Create callout-card.tsx with tip/warning/info variants",
      "Create command-card.tsx with copy button",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement layout components",
    "steps": [
      "Create components/a2ui-catalog/layout/section.tsx",
      "Create grid.tsx with responsive columns",
      "Create columns.tsx with flex widths",
      "Create tabs.tsx using Shadcn Tabs",
      "Create accordion.tsx using Shadcn Accordion",
      "Create carousel.tsx with scroll snap",
      "Create sidebar.tsx with sticky positioning",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement tag components",
    "steps": [
      "Create components/a2ui-catalog/tags/tag-cloud.tsx",
      "Create category-badge.tsx with colors",
      "Create difficulty-badge.tsx with levels",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement prose components (NEW)",
    "steps": [
      "Create components/a2ui-catalog/prose/insight-card.tsx with lightbulb icon",
      "Create pull-quote.tsx with large quote styling and left/right positioning",
      "Create prose.tsx with drop cap option and nice typography",
      "Create reading-time.tsx with clock icon",
      "Add copy button to InsightCard",
      "Add highlight interaction to Prose component",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement action components (NEW)",
    "steps": [
      "Create components/a2ui-catalog/actions/action-item.tsx with checkbox and priority badge",
      "Create next-steps.tsx as container with title",
      "Create recommendation.tsx with confidence indicator",
      "Add mark complete interaction to ActionItem",
      "Add priority color coding (high=red, medium=yellow, low=green)",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "a2ui-components",
    "description": "Implement source components (NEW)",
    "steps": [
      "Create components/a2ui-catalog/sources/source-card.tsx with link icon",
      "Create bibliography.tsx as numbered list container",
      "Create footnote.tsx with superscript number and hover popup",
      "Add copy citation button to SourceCard",
      "Register all in catalog"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Implement interactive features for all cards",
    "steps": [
      "Add copy-to-clipboard utility function",
      "Add copy button to all card components that need it",
      "Add 'Add to notes' action (stores in localStorage)",
      "Create notes panel to view saved items",
      "Add toast notifications for copy/save actions",
      "Test all interactive features work correctly"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Add loading and empty states",
    "steps": [
      "Create loading skeleton components",
      "Add loading state during generation",
      "Create empty state with instructions",
      "Add smooth fade-in animations",
      "Test loading experience"
    ],
    "passes": false
  },
  {
    "category": "frontend",
    "description": "Add sample document buttons",
    "steps": [
      "Create sample document data",
      "Add 5 sample document buttons to input panel",
      "Load sample content on button click",
      "Style buttons with document type icons"
    ],
    "passes": false
  },
  {
    "category": "demo",
    "description": "Create sample Markdown documents",
    "steps": [
      "Create sample-documents/ai-news-weekly.md",
      "Create sample-documents/top-10-coding-tools.md",
      "Create sample-documents/claude-vs-gpt-comparison.md",
      "Create sample-documents/agentic-workflows-tutorial.md",
      "Create sample-documents/ai-industry-statistics.md",
      "Create sample-documents/agentic-ai-deep-dive.md (mixed content demo)",
      "Create sample-documents/market-analysis-report.md (prose-heavy with insights)",
      "Ensure each document has unique structure and content types",
      "Verify mixed content doc has news, stats, comparison, tutorial, videos, resources sections",
      "Verify market analysis doc tests insight extraction and action items"
    ],
    "passes": false
  },
  {
    "category": "styling",
    "description": "Polish UI with dark theme and animations",
    "steps": [
      "Ensure all components use dark theme colors",
      "Add framer-motion for component entrance animations",
      "Add hover states on interactive cards",
      "Ensure consistent spacing and typography",
      "Add subtle shadows and borders",
      "Test on different screen sizes"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "Validate A2UI protocol compliance",
    "steps": [
      "Create test script to validate A2UI JSON output",
      "Verify all emitted components match A2UI v0.8 spec",
      "Check required fields: type, id, props",
      "Validate component types are in registered catalog",
      "Test that unknown types are rejected",
      "Log validation results"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "Test section-based rendering",
    "steps": [
      "Test document correctly splits into sections on H2 headers",
      "Test each section is analyzed independently",
      "Test section_type detection is accurate for each type",
      "Test item_count affects layout (1=full, 2=2col, 3=3col, 4+=carousel)",
      "Test mixed content document renders each section differently",
      "Verify news sections get HeadlineCards",
      "Verify data sections get StatCards in grid",
      "Verify tutorial sections get StepCards with CodeBlocks",
      "Verify media sections with 4+ videos get Carousel",
      "Verify resources sections get ToolCards/RepoCards grid",
      "Test TOC sidebar appears for documents >1500 words",
      "Test TLDR component appears for documents >500 words"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "Test prose and insight extraction",
    "steps": [
      "Test prose sections generate InsightCards at top",
      "Verify 1-3 insights are extracted per prose section",
      "Test insights are meaningful (not generic sentences)",
      "Test PullQuotes appear for impactful phrases",
      "Test ReadingTime displays correctly",
      "Test Prose component renders with nice typography",
      "Verify prose-heavy document is scannable (not wall of text)"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "Test action item extraction",
    "steps": [
      "Test analysis sections generate ActionItems",
      "Verify ActionItems have correct priority levels",
      "Test Recommendation component shows confidence",
      "Test NextSteps container groups actions properly",
      "Test ActionItem checkbox interaction works",
      "Verify actions are extracted from recommendations in text"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "Test interactive features",
    "steps": [
      "Test copy-to-clipboard works on all supported cards",
      "Test 'Add to notes' saves to localStorage",
      "Test notes panel displays saved items",
      "Test toast notifications appear for actions",
      "Test ActionItem mark complete persists",
      "Verify all interactive features work on mobile"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "Test variety enforcement",
    "steps": [
      "Verify minimum 4 component types across all sections",
      "Verify no more than 3 consecutive identical components",
      "Test that each sample document looks visually distinct",
      "Test that mixed content doc uses 10+ component types",
      "Verify component type diversity is maintained",
      "Verify prose sections have at least 1 InsightCard"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "End-to-end testing",
    "steps": [
      "Test full flow: paste markdown â†’ generate â†’ view dashboard",
      "Test all 5 sample documents render correctly",
      "Verify YouTube links become VideoCards",
      "Verify GitHub links become RepoCards",
      "Verify code blocks have syntax highlighting",
      "Test collapsible sections work",
      "Test tabs switch content",
      "Verify responsive layout on mobile"
    ],
    "passes": false
  },
  {
    "category": "testing",
    "description": "YouTube demo preparation",
    "steps": [
      "Run through all 5 sample documents",
      "Verify each produces visually distinct dashboard",
      "Prepare talking points for each layout type",
      "Test smooth transitions between documents",
      "Ensure no console errors",
      "Record demo run with no errors"
    ],
    "passes": false
  }
]
```

---

## Success Criteria

1. **Section Parsing**: Document correctly splits into sections on H2 headers
2. **Section Analysis**: Each section independently classified by type (news, data, tutorial, prose, analysis, etc.)
3. **Section-Specific Rendering**: Each section uses layout appropriate to its content type
4. **Item Count Rules**: Layout adapts based on item count (1=full, 2=2col, 3=3col, 4+=carousel)
5. **Component Variety**: Minimum 4 different component types across dashboard
6. **No Repetition**: No more than 3 consecutive identical components
7. **Media Detection**: YouTube links â†’ VideoCards, GitHub links â†’ RepoCards
8. **Document Wrapper**: TOC sidebar for >1500 words, TLDR for >500 words
9. **Mixed Content**: Single document with mixed sections renders each section differently
10. **A2UI Compliance**: All components match A2UI v0.8 specification
11. **Visual Distinction**: 7 sample documents produce 7 visually distinct dashboards
12. **Real-time Streaming**: Components stream via AG-UI with smooth loading
13. **CopilotKit Integration**: A2UI renderer correctly maps JSON to React components
14. **Insight Extraction**: Prose sections have 1-3 InsightCards extracted from key sentences
15. **Action Extraction**: Analysis sections generate ActionItems from recommendations
16. **Interactive Features**: Copy, save to notes, and mark complete all functional
17. **Prose Enhancement**: Prose sections are scannable with PullQuotes and ReadingTime

---

## YouTube Demo Flow

1. **Introduction (0:00-0:45)**
   - Show problem: Markdown documents are hard to scan
   - Real research has MIXED content - news, stats, tutorials, videos
   - Introduce solution: AI-powered section-based dashboard generation
   - Mention CopilotKit + A2UI sponsorship

2. **Demo 1: Mixed Research Document (0:45-3:00)** â­ HIGHLIGHT
   - Load "Agentic AI Deep Dive" (mixed content document)
   - Watch section-by-section rendering:
     - TLDR at top (extracted)
     - TOC sidebar (doc is long)
     - News section â†’ HeadlineCards
     - Stats section â†’ StatCards grid
     - Comparison section â†’ ComparisonTable + ProConItems
     - Tutorial section â†’ StepCards + CodeBlocks
     - Videos section â†’ Carousel
     - Resources section â†’ ToolCard grid
   - "Notice how EACH SECTION gets its own optimal layout!"
   - "This is the power of section-based rendering"

3. **Demo 2: Pure News Document (3:00-4:00)**
   - Load AI news weekly
   - Entire doc is news â†’ HeadlineCards throughout
   - Point out: consistent treatment for single-type docs

4. **Demo 3: Pure Tutorial (4:00-5:00)**
   - Load agentic workflows tutorial
   - StepCards, CodeBlocks, CalloutCards
   - Sidebar with prerequisites and TOC

5. **Demo 4: Comparison Document (5:00-6:00)**
   - Load Claude vs GPT comparison
   - ComparisonTable, VsCards, StatCards
   - Side-by-side layout

6. **Demo 5: Statistics Dashboard (6:00-7:00)**
   - Load AI industry statistics
   - StatCards grid, DataTables, ProgressRings
   - Pure data visualization

7. **Technical Deep Dive (7:00-9:00)**
   - Show section-based analysis in action
   - Explain how item_count affects layout (1, 2, 3, 4+ rules)
   - Show A2UI component catalog
   - Explain AG-UI streaming
   - Show variety enforcement (min 4 types)

8. **Wrap-up (9:00-10:00)**
   - Key insight: Real research is mixed, section-based rendering handles it
   - 6 documents, each optimally rendered
   - CopilotKit + A2UI makes this possible
   - Link to GitHub repo

---

## Agent Instructions

1. Read `activity.md` first to understand current state
2. Find next task with `"passes": false`
3. Complete all steps for that task
4. Update task to `"passes": true`
5. Log completion in `activity.md`
6. Repeat until all tasks pass

**Important:** Only modify the `passes` field. Do not remove or rewrite tasks.

---

## Completion Criteria

All tasks marked with `"passes": true`
